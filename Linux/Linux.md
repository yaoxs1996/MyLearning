[TOC]

## Linux系统启动过程
* 内核的引导
* 运行init
* 系统初始化
* 建立终端
* 用户登录系统

## Linux文件基本属性
### Linux文件属主和属组
#### 更改文件属性
1. __chgrp__：更改文件属组
```
chgrp [-R] 属组名 文件名
```
2. __chown__：更改文件属主，也可以更改文件属组
```
chown [-R] 属主名 文件名
chown [-R] 属主名：属组名 文件名
```
3. __chmod__：更改文件9个属性
`u,g,o,a`  
`+`：加入  
`-`：除去  
`=`：设定

## Linux文件与目录管理
* __绝对路径__
* __相对路径__
### 处理目录常用的命令
* `ls`
    * -a：全部文件
    * -d：仅列出目录
    * -l：属性，权限等数据
* `cd`
* `pwd`
    * -P：列出确实的路径，而非链接路径
* `mkdir`
    * -m：配置权限
    * -p：递归创建目录
* `rmdir`：___只能删除空目录___
    * -p
* `cp`：复制文件或目录
    * -a：相当于pdr
    * -d：源档为链接文件，赋值链接文件，而非文件本身
    * -f
    * -i：目标已存在，询问操作
    * -l：硬链接
    * -p：连同文件属性一起赋值过去
    * -r
    * -s：符号链接
    * -u：目标比源更旧才复制
* `rm`
    * -f
    * -i：互动模式
    * -r
* `mv`：移动文件与目录，或 __修改文件与目录的名称__
    * -f
    * -i
    * -u：同cp -u
### Linux文件内容查看
* `cat`：从第一行显示文件内容
    * -A：列出一些特殊字符
    * -b：列出行号，仅对非空行
    * -E：将结尾的断行字节$显示出来
    * -n：列出行号，包括空白行
    * -T：显示[tab]键，以^|形式
    * -v：显示看不见的特殊符号
* `tac`：从最后一行开始显示
* `nl`：显示时，输出行号
* `more`：一页页地显示文件内容
* `less`：可以向前翻页
* `head`：只看头几行
    * -n：显示几行
* `tail`：只看尾几行

---
## Linux用户和用户组管理
### 一、Linux系统用户账号的管理
#### useradd添加新的用户账户
```
useradd 选项 用户名
```
#### 删除账户
```
userdel 选项 用户名
```
选项`-r`，连同用户的主目录一起删除  
#### 修改账号
```
usermod 选项 用户名
```

#### 用户口令的管理

```
passwd 选项 用户名
```

### 二、Linux系统用户组的管理

#### 1、增加一个新的用户组

```
groupadd 选项 用户组
```

#### 2、删除一个已有的用户组

```
groupdel 用户组
```

#### 3、修改用户组的属性

```
groupmod 选项 用户组
```

#### 4、一个用户属于多个用户组，用户可以在用户组之间切换

```
newgrp 目的用户组
```

### 三、与用户账号有关的系统文件

#### 1、/etc/passwd文件

---

## Linux磁盘管理

### df

检查文件系统的磁盘空间占用情况。  

### du

查看使用空间，`du`命令是对文件和目录磁盘使用空间的查看。  

### fdisk

Linux的磁盘分区表操作工具

```
fdisk [-l] 装置名称
```

### 磁盘格式化

`mkfs`命令。

```
mkfs [-t 文件系统格式] 装置文件名
```

`-t`：可以接的文件系统格式。  

### 磁盘检验

`fsck`用来检查和维护不一致的文件系统。  

### 磁盘的挂载与卸载

磁盘挂载使用`mount`命令，卸载使用`umount`命令。  

---

## Linux vi/vim

---

## Shell教程

---

## Shell变量

变量名不加美元符号；变量名和等号之间不能有空格。  

### 使用变量

使用一个定义过的变量，只要在变量名前加`$`即可。  
可以使用`{}`识别变量的边界。  

* 使用`readonly`命令将变量定义为只读变量，只读变量的值不能被改变。
* 使用`unset`命令删除变量。但不能删除只读变量。
* 变量类型：
    * 局部变量。仅在当前shell实例有效。
    * 环境变量。
    * shell变量。

### Shell字符串

* 可以使用单引号，也能使用双引号，也可以不使用引号。  
* 单引号中任何字符都会原样输出，变量无效；不能出现单独一个单引号，转义也不行。  
* 使用双引号和单引号拼接字符串。  
* 使用`${#string}`获得字符串长度。  
* 提取子字符串：`echo ${string:1:4}`。
* 查找子字符串位置
反引号。

### Shell数组

支持一维数组，不支持多维数组。  

* 定义数组
使用括号表示，元素用空格分隔。  
* 读取数组
下标。  
可以使用`@`获得数组中的所有元素。  
* 获取数组长度
`${#array[@]}`或者`${#array[*]}`。  

### Shell注释

使用`#`开头的行。  
使用`:<<EOF...EOF`或`:<<'...'`或`:<<!...!`多行注释。  

---

## Shell传递参数

使用`$n`获得参数，`$0`是命令本身，后面依次类推。  

---

## Shell基本运算符

`expr`是表达式计算工具，能够完成表达式的求值操作。  
* 表达式和运算符之间要 ___有空格___
* 完整表达式要被反引号包住

### 算术运算符

### 关系运算符

* `-eq`
* `-ne`
* `-gt`
* `-lt`
* `-ge`
* `-le`

### 布尔运算符

* `!`
* `-o`
* `-a`

### 逻辑运算符

### 字符串运算符

* `=`
* `!=`
* `-z`检验字符串长度是否为0，为0返回true
* `-n`长度是否为0，不为0返回true
* `$`检验字符串是否为空，不为空返回true

### 文件测试运算符

---

## Shell echo命令

用于字符串的输出。  

1. 显示普通字符串
2. 显示转义字符
3. 显示变量
4. 显示换行
5. 显示不换行
`\c`
6. 显示结果定向至文件
`>`
7. 原样输出字符串，使用单引号
8. 显示命令执行结果
反引号

---

## Shell printf命令

模仿C程序的printf()程序。  

---

## Shell test命令

检查某个条件是否成立。  

### 数值测试

### 字符串测试

### 文件测试

---

## Shell流程控制

sh的流程不能为空，分支没有语句执行就不要写这个语句。  

### if else

* if

```sh
if condition
then
    command1
    command2
    ...
fi
```

* if else
* if elif else

### for循环

```sh
for var in item1 item2 ... itemN
do
    command1
    command2
    ...
done
```

### while语句

```sh
while condition
do
    command
done

### until循环

```sh
until condition
do
    command
done
```

### case

```sh
case 值 in
模式1)
    command1
    ...
    ;;
模式2)
    command1
    ...
    ;;
esac
```

每一模式以`)`结束，命令执行至`;;`，`esac`做结束符。  

### 跳出循环

* `break`
* `continue`

---

## Shell函数

```sh
[function] funname [()]
{
    action;
    [return int;]
}
```

### 函数参数

使用`$n`获取，超过10过参数，使用`${10}`。  

---

## Shell 输入/输出重定向

| 命令 | 说明 |
| --- | --- |
| `command > file` | 将输出重定向到file |
| `command < file` | 将输入重定向到file |
| `command >> file` | 将输入以追加的形式重定向到file |
| `n > file` | 将文件描述符为n的文件重定向到file |
| `n >> file` | 将文件描述符为n的文件已追加的方式重定向到file |
| `n >& m` | 将输出文件m和n合并 |
| `n <& m` | 将输入文件m和n合并 |
| `<< tag` | 将开始标记tag和结束标记tag之间的内容作为输入 |

___文件描述符0通常是标准输入（STDIN），1是标准输出（STDOUT），2是标准错误输出（STDERR）。___  

---

## Shell 文件包含

```sh
. filename      #注意空格
source filename
```
